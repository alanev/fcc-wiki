<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>Wikipedia Viewer</title>

    <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Roboto:400,500,700,300,100,900,400italic&subset=latin,cyrillic">
    <link rel="stylesheet" href="//fonts.googleapis.com/icon?family=Material+Icons">
    <link rel="stylesheet" href="//code.getmdl.io/1.1.1/material.blue_grey-red.min.css">
    <link rel="stylesheet" href="//file.myfontastic.com/n6vo44Re5QaWo8oCKShBs7/icons.css">
    <link rel="stylesheet" href="app.css">

    <script src="//ajax.googleapis.com/ajax/libs/angularjs/1.5.3/angular.min.js" defer></script>
    <script src="//code.getmdl.io/1.1.1/material.min.js" defer></script>
    <script src="app.js" defer></script>
    <style>
        .wiki{
            min-height: 100%;
            display: flex;
            flex-direction: column;
            justify-content: center;
        }
        .wiki__result-preview{
            min-width: 40px;
        }
        .wiki__nav{
            text-align: center;
        }
        .wiki__card{
            width: 100%;
            height: 320px;
        }
        .wiki__text{
            max-height: 4em;
            overflow: hidden;
            text-overflow: ellipsis;
        }
        .wiki__result-preview{
            background-color: gainsboro;
            background-size: cover;
            background-position: center;
            
            position: relative;
        }
        .wiki__result-preview.source{
            color: white;
        }
        .wiki__result-preview:not(.source):after{
            content: 'collections';
            
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            
            font-family: 'Material Icons';
            
            color: darkgray;
        }
        .wiki__random{
            display: flex;
            align-items: center;
            justify-content: center;
        }
        .wiki__random span{
            margin-right: .5rem;
        }
    </style>
</head>
<body>
    <div class="mdl-layout page">
        <header class="mdl-layout__header">
            <div class="mdl-layout__header-row page__header">
                <h1 class="page__title">Wikipedia Viewer</h1>
                <div class="page__links">
                    <a href="https://www.freecodecamp.com/challenges/build-a-wikipedia-viewer" id="s11" class="socicon-fcc">
                        <svg width="30px" height="30px">
                            <use xlink:href="#socicon-fcc">
                        </svg>
                    </a>
                    <div class="mdl-tooltip mdl-tooltip--bottom" for="s11">Challange on FreeCodeCamp</div>
                    <a href="https://github.com/alanev/fcc-wiki" for="s10" class="soicon-github"></a>
                    <div class="mdl-tooltip mdl-tooltip--bottom" for="s10">Projets on Github</div>
                </div>
            </div>
        </header>
        <main class="page__content page__content_main" ng-app="wikiSearch">
            <!--Content of main module-->
            <div class="wiki" ng-controller="wikiSearchCtrl">
                <div class="wiki__nav">
                    <a href="https://ru.wikipedia.org/wiki/Служебная:Случайная_страница" class="wiki__random" target="_blank">
                        <span class="socicon-wikipedia"></span>
                        Случайная статья
                    </a>
                    <form ng-submit="get()">
                        <div class="mdl-textfield mdl-js-textfield mdl-textfield--expandable">
                            <label class="mdl-button mdl-js-button mdl-button--icon" for="sample6">
                                <i class="material-icons">search</i>
                            </label>
                            <div class="mdl-textfield__expandable-holder">
                                <input class="mdl-textfield__input" type="text" id="sample6" ng-model="query">
                                <label class="mdl-textfield__label" for="sample-expandable">Expandable Input</label>
                            </div>
                        </div>
                    </form>
                </div>
                <div class="mdl-grid" ng-if="results">
                    <div class="mdl-cell mdl-cell--4-col" ng-repeat="result in results">
                        <div class="wiki__card mdl-card mdl-shadow--2dp">
                            <div class="wiki__result-preview mdl-card__title mdl-card--expand" ng-class="result.thumbnail" style="background-image: url({{image(result.thumbnail.source)}})">
                                <h2 class="mdl-card__title-text">{{result.title}}</h2>
                            </div>
                            <div class="mdl-card__supporting-text">
                                <div class="wiki__text">
                                    {{result.extract}}
                                </div>
                            </div>
                            <div class="mdl-card__actions mdl-card--border">
                                <a href="https://ru.wikipedia.org/wiki/{{result.title}}" class="mdl-button mdl-button--colored mdl-js-button mdl-js-ripple-effect" translate="_blank">
                                    Просмотреть статью
                                </a>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="wiki__error mdl-color-text--red" ng-if="error">
                    К сожалению ничего не найдено
                </div>
            </div>
        </main>
        <footer class="mdl-mini-footer page__footer">
            <div class="mdl-mini-footer__left-section">
                Made by <a href="http://alanev.github.io">@alanev</a>
            </div>
            <div class="mdl-mini-footer__right-section page__social">
                <a href="mailto:e@alanev.ru" id="s1" title="Email" class="socicon-mail"></a>
                <div class="mdl-tooltip mdl-tooltip--top" for="s1">Email</div>
                <a href="https://github.com/alanev" id="s2" class="socicon-github"></a>
                <div class="mdl-tooltip mdl-tooltip--top" for="s2">Github</div>
                <a href="http://freecodecamp.com/alanev" id="s3" class="socicon-fcc">
                    <svg width="30px" height="30px">
                        <use xlink:href="#socicon-fcc">
                    </svg>
                </a>
                <div class="mdl-tooltip mdl-tooltip--top" for="s3">FreeCodeCamp</div>
                <a href="https://getpocket.com/@alanev" id="s4" class="socicon-pocket"></a>
                <div class="mdl-tooltip mdl-tooltip--top" for="s4">Pocket</div>
                <a href="skype:e.alanev" id="s5" class="socicon-skype"></a>
                <div class="mdl-tooltip mdl-tooltip--top" for="s5">Skype</div>
            </div>
        </footer>
    </div>
    <svg class="page__sprite" width="0" height="0">
        <symbol id="socicon-fcc" viewbox="0 0 700.08435 482.89237">
            <path d="M117.513 482.162c-12.148-2.9-29.728-18.152-49.222-42.704C28.72 389.618 7.235 333.718.907 264.145c-1.218-13.39-1.205-47.27.022-59.666 5.786-58.454 26.24-108.793 63.77-156.945C76.193 32.79 95.24 13.472 104.363 7.31c12.908-8.718 21.033-9.423 28.83-2.5 3.18 2.822 3.912 4.135 4.32 7.754.766 6.814-2.727 12.138-18.97 28.914C95.848 64.92 85.377 77.97 73.778 97.27 47.44 141.096 36.17 187.185 37.784 244.458c.86 30.513 4.126 53.004 11.326 78.02 6.485 22.53 14.27 40.696 25.925 60.506 11.704 19.89 21.54 32.474 41.205 52.724 17.254 17.765 21.54 23.936 21.54 31.012 0 7.04-4.97 13.405-11.983 15.353-3.875 1.076-4.138 1.08-8.284.09zm455.44.266c-3.67-.78-10.237-7.84-10.978-11.807-1.193-6.39 2.61-12.08 20.332-30.438 8.722-9.033 19.453-20.907 23.847-26.387 32.153-40.09 50.016-84.7 54.782-136.805 1.47-16.063.71-57.448-1.34-72.967-4.29-32.507-12.212-59.1-25.93-87.065-13.13-26.758-26.71-45.737-49.65-69.375-15.404-15.874-19.944-21.67-21.493-27.436-1.518-5.652-.427-9.848 3.812-14.664 5.815-6.605 12.456-7.195 22.85-2.027 12.582 6.255 28.887 22.59 47.813 47.9 38.078 50.92 57.717 106.942 62.437 178.102 4.01 60.46-10.657 121.663-41.304 172.348-21.153 34.986-53.428 70.837-70.614 78.44-4.492 1.986-10.937 2.952-14.562 2.182zM192.87 445.56c-10.287-3.118-16.25-13.4-13.77-23.74 1.534-6.395 7.953-12.97 14.198-14.542 6.292-1.584 331.733-1.584 338.024 0 6.438 1.62 12.762 8.216 14.17 14.775 1.843 8.597-2.02 17.395-9.526 21.695l-3.968 2.272-168.28.16c-92.556.087-169.437-.192-170.848-.62zm128.19-79.11c-31.252-11.366-57.254-33.518-70.564-60.117-7.4-14.788-11.695-32.697-11.692-48.75.005-21.703 8.49-42.384 34.347-83.696 19.258-30.77 22.54-36.378 28.2-48.197 7.537-15.726 10.02-25.067 10.18-38.264.15-12.61-1.74-20.093-7.55-29.88-4.122-6.947-13.398-17.404-17.165-19.352-6.14-3.175-7.413-7.488-3.053-10.345 6.896-4.52 25.735-1.653 43.044 6.546 19.585 9.277 34.02 22.6 43.42 40.07 7.245 13.466 10.166 23.785 15.08 53.273 5.453 32.72 10.858 43.103 21.79 41.847 5.79-.666 9.406-2.864 11.845-7.204 3.886-6.913 2.22-16.375-5.637-32.034-6.42-12.794-6.023-16.66 1.507-14.668 3.9 1.03 16.557 11.37 25.32 20.68 21.924 23.3 32.835 44.465 38.082 73.877 2.752 15.425 2.98 41.006.487 54.374-3.148 16.865-9.525 32.784-18.59 46.398-10.106 15.18-31.19 34.386-46.518 42.376-6.922 3.608-9.325 3.827-12.718 1.158-4.22-3.32-3.33-5.628 6-15.538 14.018-14.89 21.174-25.474 25.326-37.457 6.406-18.488 3.217-44.264-7.508-60.693-4.442-6.805-10.953-12.806-13.895-12.806-1.61 0-1.343 2.126 1.643 13.063 1.046 3.832 1.902 8.516 1.902 10.408 0 10.01-14.126 17.264-26.57 13.647-10.11-2.94-14.57-12.11-13.23-27.22.414-4.67.785-13.154.823-18.854.068-10.052-.03-10.56-3.21-16.836-6.203-12.232-20.548-24.83-28.27-24.83-3.332 0-3.606.2-3.606 2.65 0 1.642.923 3.51 2.434 4.92 8 7.47 9.507 22.772 3.57 36.282-3.67 8.35-7.806 13.078-21.937 25.073-18.592 15.782-24.583 23.297-28.3 35.496-1.718 5.643-1.895 7.94-1.41 18.28.81 17.362 4.35 28.87 12.62 41.05 6.35 9.35 13.784 15.282 23.882 19.055 4.855 1.814 5.39 2.283 5.39 4.726 0 2.833-2.154 4.694-5.33 4.607-.936-.026-5.5-1.428-10.14-3.116z"></path>
            
        </symbol>
    </svg>
</body>
</html>